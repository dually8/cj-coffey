---
const shouldLoad = !Astro.url.origin.includes('localhost');
// const shouldLoad = true;
---
<style>
  section {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1rem;
  }
  p {
    margin: 0;
  }
</style>
{
  shouldLoad && (
    <script
      is:inline
      src="https://giscus.app/client.js"
      data-repo="dually8/cj-coffey"
      data-repo-id="R_kgDOH2oS3A"
      data-category="General"
      data-category-id="DIC_kwDOH2oS3M4ClTY2"
      data-mapping="pathname"
      data-strict="1"
      data-reactions-enabled="1"
      data-emit-metadata="0"
      data-input-position="bottom"
      data-theme="preferred_color_scheme"
      data-lang="en"
      crossorigin="anonymous"
      async></script>
    <noscript>
      <section>
        <p>
          You must enable JavaScript in order to participate in discussions.
        </p>
        <a href="https://github.com/dually8/cj-coffey/discussions">
          View discussions on GitHub
        </a>
      </sect>
    </noscript>
  ) || (
    <section>
      <p>Comments are disabled on localhost</p>
    </section>
  )
}
